
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Creating the USB Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="styles/website.css">
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="ktext.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="creating-the-usb.html">
            
                <a href="creating-the-usb.html">
            
                    
                    Creating the USB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="ktext.html">
            
                <a href="ktext.html">
            
                    
                    Gathering files
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Intel Config.plist</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="config.plist/ivy-bridge.html">
            
                <a href="config.plist/ivy-bridge.html">
            
                    
                    Ivy Bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="config.plist/haswell.html">
            
                <a href="config.plist/haswell.html">
            
                    
                    Haswell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="config.plist/skylake.html">
            
                <a href="config.plist/skylake.html">
            
                    
                    Skylake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="config.plist/kaby-lake.html">
            
                <a href="config.plist/kaby-lake.html">
            
                    
                    Kaby Lake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="config.plist/coffee-lake.html">
            
                <a href="config.plist/coffee-lake.html">
            
                    
                    Coffee Lake
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">AMD Config.plist</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="AMD/AMD-config.html">
            
                <a href="AMD/AMD-config.html">
            
                    
                    Zen/ThreadRipper
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Post Install</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="post-install/nvram.html">
            
                <a href="post-install/nvram.html">
            
                    
                    Emulated NVRAM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="post-install/spoof.html">
            
                <a href="post-install/spoof.html">
            
                    
                    Disabling GPU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="post-install/security.html">
            
                <a href="post-install/security.html">
            
                    
                    Security and FileVault
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Troubleshooting</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="extras/troubleshooting.html">
            
                <a href="extras/troubleshooting.html">
            
                    
                    General Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="extras/verbose.html">
            
                <a href="extras/verbose.html">
            
                    
                    Fixing Resolution and Verbose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="extras/debug.html">
            
                <a href="extras/debug.html">
            
                    
                    OpenCore Debugging
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Extras</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="extras/legacy.html">
            
                <a href="extras/legacy.html">
            
                    
                    Legacy Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="extras/kalsr-fix.html">
            
                <a href="extras/kalsr-fix.html">
            
                    
                    Fixing KALSR slide values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="post-install/msr-lock.html">
            
                <a href="post-install/msr-lock.html">
            
                    
                    Fixing CFG Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" >
            
                <a target="_blank" href="https://hackintosh-multiboot.gitbook.io/hackintosh-multiboot/">
            
                    
                    Multiboot
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Misc</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="misc/credit.html">
            
                <a href="misc/credit.html">
            
                    
                    Credit
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Creating the USB</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="creating-the-usb">Creating the USB</h1>
<h2 id="setting-up-opencore">Setting up OpenCore</h2>
<p>Requirements:</p>
<ul>
<li><a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">OpenCorePkg</a>, highly recommend running the debug version to show more info</li>
<li><a href="https://github.com/acidanthera/AppleSupportPkg/releases" target="_blank">AppleSupportPkg</a></li>
<li><a href="https://github.com/corpnewt/MountEFI" target="_blank">mountEFI</a> or some form of EFI mounting(terminal command example can be found <a href="https://themacadmin.com/2012/02/15/mounting-the-efi-boot-partition-on-mac-os-x/" target="_blank">here</a>).</li>
<li><a href="https://github.com/corpnewt/ProperTree" target="_blank">ProperTree</a> or Xcode to edit .plist files (OpenCore Configurator is another tool but is heavily outdated and the Mackie version is known for corruption. <strong>Please avoid these kinds of tools at all costs!</strong>).</li>
<li>Cleaned NVRAM(This is seriously important as you want a clean slate when working with OpenCore, luckily with OC you can press <code>Cmd+Option+P+R</code> while booting to clean your NVRAM as long as you have <code>PollAppleHotKeys</code> set to True. Some firmware require UsbKbDxe.efi for proper keyboard functionality with this setting on).</li>
<li>USB formatted as MacOS Journaled with GUID partition map.</li>
<li>Knowledge of how a Hackintosh works and what files yours requires(ie: Type of network controller).</li>
<li>You must remove Clover from your system entirely if you wish to use it as your main boot-loader. Keep a backup of your Clover based EFI.</li>
</ul>
<blockquote>
<p>Do I need macOS to setup OpenCore and install macOS?</p>
</blockquote>
<p>Actually no, you can go into the release tab of all your required files and grab them that way. MaciASL is only on macOS so compiling them may be more difficult if it&apos;s not handled by <a href="https://github.com/corpnewt/SSDTTime" target="_blank">SSDTTime</a>. See the <a href="creating-the-usb.html#Making-an-installer">installer section</a> below for more info.</p>
<p><strong>Note for legacy users</strong></p>
<ul>
<li>If you want to use OpenCore on your system, please follow the <a href="extras/legacy.html">Legacy Install</a> section first, after you can continue following the <strong>Base folder structure</strong> section</li>
</ul>
<h2 id="creating-the-usb">Creating the USB</h2>
<p>Creating the USB is simple, all you need to do is format it with GUID partition map. There is no real size requirement for the USB as OpenCore&apos;s entire EFI will generally be less than 5MB. This changes when you&apos;re making an instller, see installer section below for more info.</p>
<p><img src="https://i.imgur.com/5uTJbgI.png" alt="Formatting the USB"></p>
<p>Next, we&apos;ll want to mount the EFI partition on the USB with mountEFI.</p>
<p><img src="https://i.imgur.com/4l1oK8i.png" alt="mountEFI"></p>
<p>You&apos;ll notice that once we open the EFI partition, it&apos;s empty. This is where the fun begins.</p>
<p><img src="https://i.imgur.com/EDeZB3u.png" alt="Empty EFI partition"></p>
<h2 id="base-folder-structure">Base folder structure</h2>
<p>To setup OpenCore&#x2019;s folder structure, you&#x2019;ll want to grab those files from OpenCorePkg and construct your EFI to look like the one below:</p>
<p><img src="https://i.imgur.com/1Ssvqfw.png" alt="base EFI folder"></p>
<p>Now you can place your necessary .efi drivers from AppleSupportPkg into the <em>drivers</em> folder and kexts/ACPI into their respective folders. Please note that UEFI drivers from Clover are not supported with OpenCore!(EmuVariableUEF, AptioMemoryFix, OsxAptioFixDrv, etc).</p>
<ul>
<li>Please do also note that AptioMemoryFix.efi has now been split between OpenCore itself and FwRuntimeServices.efi</li>
</ul>
<p>Here&apos;s what mine looks like(For the majority of users you can ignore Tools but it can be useful like for Shell.efi and other such tools):</p>
<p><img src="https://i.imgur.com/HVuyghf.png" alt="Populated EFI folder"></p>
<p><strong>Reminder</strong>:</p>
<ul>
<li>SSDTs and custom DSDTs go in ACPI folder</li>
<li>Kexts go in Kexts folder</li>
<li>Firmware drivers(.efi) go in the Drivers folder</li>
</ul>
<h2 id="making-an-installer">Making an installer</h2>
<p>While you don&apos;t need a fresh install of macOS to use OpenCore, some users prefer having a fresh slate with their boot manager upgrades. </p>
<ul>
<li><p>Users with a mac:</p>
<ul>
<li>Format the USB as HFS+/MacOS Journaled with GUID partition map, must be 16GB for Catalina</li>
<li>Download a copy of macOS<ul>
<li>AppStore: <a href="macappstores://itunes.apple.com/us/app/macos-high-sierra/id1246284741?mt=12" target="_blank">High Sierra</a>, <a href="macappstores://itunes.apple.com/us/app/macos-mojave/id1398502828?mt=12" target="_blank">Mojave</a>, <a href="macappstores://itunes.apple.com/us/app/macos-catalina/id1466841314?mt=12" target="_blank">Catalina</a></li>
<li><a href="https://github.com/corpnewt/gibMacOS" target="_blank">GibMacOS</a> with the <code>BuildmacOSInstallApp.command</code></li>
</ul>
</li>
<li>Run the <code>createinstallmedia</code> command provided by <a href="https://support.apple.com/en-us/HT201372" target="_blank">Apple</a></li>
</ul>
</li>
<li><p>Users without a mac:</p>
<ul>
<li>Format USB as Fat32 with GUID partition map, must be 4GB minimum</li>
<li>Download the macOS <code>BaseSystem.dmg</code> and <code>BaseSystem.chunklist</code><ul>
<li><a href="https://github.com/corpnewt/gibMacOS" target="_blank">gibMacOS</a></li>
<li><a href="https://github.com/acidanthera/MacInfoPkg/blob/master/macrecovery/macrecovery.py" target="_blank">macrecovery.py</a></li>
</ul>
</li>
<li>Create a folder on root of Fat32 partition called <code>com.apple.recovery.boot</code> and place the <code>BaseSystem.dmg</code> and <code>BaseSystem.chunklist</code> in there</li>
</ul>
</li>
</ul>
<p>Note: Some users may have issues booting the USB, make sure you have an HFS driver and you can also try <code>AvoidHighAlloc</code> set to <code>YES</code>. If you continue to have issues, I recommend using Midi&apos;s <a href="https://internet-install.gitbook.io/macos-internet-install/" target="_blank">/r/Hackintosh macOS Internet Install</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="ktext.html" class="navigation navigation-next " aria-label="Next page: Gathering files">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Creating the USB","level":"1.2","depth":1,"next":{"title":"Gathering files","level":"1.3","depth":1,"path":"ktext.md","ref":"ktext.md","articles":[]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"fontsettings":{"theme":"night","family":"sans","size":2},"search-plus":{},"addcssjs":{"css":[],"js":[]},"highlight":{},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"creating-the-usb.md","mtime":"2020-01-06T02:05:47.015Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-01-06T02:06:28.248Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

